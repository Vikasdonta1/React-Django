"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[179],{7397:function(e,t,n){var r=n(7294),s=n(3935),c=n(4572),i=n(2982),a=n(5861),o=n(885),l=n(4687),u=n.n(l),p=n(5692),d=n(9603),f=n(4119),h=n(1945),x=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=(0,r.useState)((function(){return{title:"",author:"",year:"",finished:!1}})),n=(0,o.Z)(t,2),s=n[0],i=n[1];function a(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;i((function(e){return v(v({},e),{},(0,c.Z)({},r,n))}))}return(0,x.jsx)("section",{className:"input_section",children:(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(p.Z.Header,{children:"Add a new book"}),(0,x.jsx)(p.Z.Body,{className:"card-body",children:(0,x.jsxs)(d.Z,{onSubmit:function(t){t.preventDefault(),e.handleAddBook(s),i({title:"",author:"",year:"",finished:!1})},children:[(0,x.jsx)(d.Z.Group,{children:(0,x.jsx)(f.Z,{label:"Title",children:(0,x.jsx)(d.Z.Control,{id:"inputBookTitle",type:"text",name:"title",value:s.title,onChange:a,required:!0})})}),(0,x.jsx)(d.Z.Group,{className:"form-floating mt-2",children:(0,x.jsx)(f.Z,{label:"Author",children:(0,x.jsx)(d.Z.Control,{type:"text",name:"author",value:s.author,onChange:a,required:!0})})}),(0,x.jsx)(d.Z.Group,{className:"form-floating mt-2",children:(0,x.jsx)(f.Z,{label:"Year",children:(0,x.jsx)(d.Z.Control,{type:"number",name:"year",value:s.year,onChange:a,required:!0})})}),(0,x.jsx)(d.Z.Check,{type:"checkbox",name:"finished",label:"Finished?",checked:s.finished,onChange:a}),(0,x.jsx)("div",{className:"d-grid",children:(0,x.jsx)(h.Z,{variant:"primary",type:"submit",children:"Save"})})]})})]})})}var m=n(4051),j=n(1555);function k(e){var t=e.book,n=t.finished?"Unfinish":"Finish";return(0,x.jsxs)("div",{children:[(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(j.Z,{lg:3,sm:12,children:"Title:"}),(0,x.jsx)(j.Z,{lg:9,sm:12,children:t.title})]}),(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(j.Z,{lg:3,sm:12,children:"Author:"}),(0,x.jsx)(j.Z,{lg:9,sm:12,children:t.author})]}),(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(j.Z,{lg:3,sm:12,children:"Year:"}),(0,x.jsx)(j.Z,{lg:9,sm:12,children:t.year})]}),(0,x.jsxs)(m.Z,{className:"mt-3",children:[(0,x.jsx)(j.Z,{lg:6,sm:12,className:"p-1 d-grid",children:(0,x.jsx)(h.Z,{variant:"primary",onClick:function(){return e.handleToggleBook(t)},children:n})}),(0,x.jsx)(j.Z,{lg:6,sm:12,className:"p-1 d-grid",children:(0,x.jsx)(h.Z,{variant:"danger",onClick:function(){return e.handleDeleteBook(t)},children:"Delete"})})]})]})}var y=n(5147);function b(e){var t=e.finished?"Finished Books":"Unfinished Books",n=e.bookList;return n=n||[],(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:t}),(0,x.jsx)("div",{className:"card-body p-0",children:(0,x.jsx)(y.Z,{className:"p-0 m-0",children:(0,x.jsx)("tbody",{children:n.map((function(t){return(0,x.jsx)("tr",{children:(0,x.jsx)("td",{className:"p-3",children:(0,x.jsx)(k,{book:t,handleToggleBook:e.handleToggleBook,handleDeleteBook:e.handleDeleteBook})})},t.id)}))})})})]})}var Z=n(9669),O="http://127.0.0.1:8000/book/";function B(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(O).concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("unfinished/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("finished/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post(O,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return z.apply(this,arguments)}function z(){return(z=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.delete("".concat(O).concat(t.id,"/"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.patch("".concat(O).concat(t.id,"/"),{finished:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return U.apply(this,arguments)}function U(){return(U=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=n(8742),Q=n(682);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(){var e=(0,r.useState)([]),t=(0,o.Z)(e,2),n=t[0],s=t[1],c=(0,r.useState)([]),l=(0,o.Z)(c,2),p=l[0],d=l[1];(0,r.useEffect)((function(){function e(){return e=(0,a.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,s(t),e.next=6,G();case 6:n=e.sent,d(n);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f=function(){var e=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:(r=e.sent).finished?d([].concat((0,i.Z)(p),[r])):s([].concat((0,i.Z)(n),[r]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,n,r,s){console.log(t),n(e.filter((function(e){return e.id!==t.id}))),s([].concat((0,i.Z)(r),[V(V({},t),{},{finished:!t.finished})]))},e.next=3,I(t,!t.finished);case 3:t.finished?r(p,d,n,s):r(n,s,p,d);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){console.log(e.id);var t=function(t,n){n(t.filter((function(t){return t.id!==e.id})))};(function(e){return J.apply(this,arguments)})(e).then((function(r){e.finished?t(p,d):t(n,s)}))};return(0,x.jsxs)("div",{children:[(0,x.jsx)("header",{children:(0,x.jsx)(K.Z,{bg:"light",className:"mx-2",children:(0,x.jsx)(K.Z.Brand,{className:"navbar-brand",href:"#",children:"Bookshelf"})})}),(0,x.jsx)(Q.Z,{className:"mt-3",children:(0,x.jsx)("article",{className:"row",children:(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(j.Z,{lg:4,children:(0,x.jsx)(w,{handleAddBook:f})}),(0,x.jsx)(j.Z,{lg:4,children:(0,x.jsx)(b,{finished:!1,bookList:n,handleToggleBook:h,handleDeleteBook:g})}),(0,x.jsx)(j.Z,{lg:4,children:(0,x.jsx)(b,{finished:!0,bookList:p,handleToggleBook:h,handleDeleteBook:g})})]})})})]})};n(4039),s.render((0,x.jsx)(r.StrictMode,{children:(0,x.jsx)(W,{})}),document.getElementById("root"))},2204:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},9609:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},2469:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},7486:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},4144:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},6254:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},2740:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%230c63e4%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},3460:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},5647:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},1692:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},6770:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},8931:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},6199:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},1217:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},2956:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},5122:function(e){e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"}},function(e){e.O(0,[216],(function(){return 7397,e(e.s=7397)})),e.O()}]);